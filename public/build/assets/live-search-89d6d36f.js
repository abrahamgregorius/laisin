class n{constructor(t,e,r,o){this.searchInput=$(t),this.resultsContainer=$(e),this.token=$('meta[name="_token"]').attr("content"),this.resultTemplate=r,this.currentSlug=$(".form-control").attr("alt"),this.errorHandlingTitle=o,this.setupEventListeners()}setupEventListeners(){this.searchInput.on("click",t=>{const e="page=show_all";if(window.location.search==="?"+e)t.preventDefault();else{const r=window.location.origin+window.location.pathname+"?"+e;window.location.href=r}}),this.searchInput.on("keyup",()=>{const t=this.searchInput.val();t.length>=0?this.performSearch(t):this.clearResults()})}performSearch(t){this.resultsContainer.html('<div class="loading">Loading...</div>'),$.ajax({type:"POST",url:window.location.pathname,data:{value_to_search:t,current_slug:this.currentSlug,_token:this.token},dataType:"json",success:e=>{this.updateSearchResults(e)}})}clearResults(){this.resultsContainer.empty()}updateSearchResults(t){this.clearResults(),t.length>0?t.forEach(e=>{const r=this.createResultElement(e);this.resultsContainer.append(r)}):(this.resultsContainer.html(`<div class="no-results">Not Found ${this.errorHandlingTitle} With Name: "${this.searchInput.val()}"</div>`),t.length=0)}createResultElement(t){const e=document.createElement("tr");e.setAttribute("class","table-item");const r=this,o=this.resultTemplate(t,(c,s,d,i)=>r.routing(c,s,d,i),(c,s,d)=>r.createButtons(c,s,d));return e.innerHTML=o,e}routing(t,e,r,o){let c;const s=new URL(window.location.href);if(r)s.pathname=`/${o}/${t}`,c=s.toString();else{let d=window.location.search,i=d.indexOf("?");i!==-1&&(d=d.substring(0,i)),c=`${d}/${o}/${t}/${e}`}return c}createButtons(t,e,r){return`
            <a href="${this.routing(t,"edit",!1,r)}" class="btn btn-warning"> <svg style="fill: white !important" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="white" class="bi bi-pen-fill" viewBox="0 0 16 16">
            <path d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001z"/>
          </svg></a>
            <a href="${this.routing(t,"delete",!1,r)}" class="btn btn-danger ${e}"><svg style="fill: white !important" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="white" class="bi bi-trash-fill" viewBox="0 0 16 16">
            <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>
          </svg></a>
        `}}new n("#brands_search","#brands-data",function(a,t,e){return"<td>"+a.id+'</td><td><a href="'+t(a.id,"show",!1)+'">'+a.brand_name+"</a></td><td>"+e(a.id,"brand-confirm-delete","admin/brands")+"</td>"},"Brand");new n("#product_search","#product-data",function(a,t,e){return"<td>"+a.id+'</td><td><a href="'+t(a.id,"show",!1,"admin/products")+'">'+a.name+"</a></td><td>"+a.part_number+"</td><td>"+a.description+"</td><td>"+a.brand.brand_name+"</td><td>"+a.car_year+"</td><td>"+e(a.id,"product-confirm-delete","admin/products")+"</td>"},"Product");new n("#search_category_input","#category_data",function(a,t,e){return"<td>"+a.id+'</td><td><a href="'+t(a.id,"show",!1)+'">'+a.name+"</a></td><td>"+e(a.id,"brand-confirm-delete","admin/brands")+"</td>"},"Category");new n("#search_homepage_product","#product-homepage-data",function(a,t){return'<td><a href="'+t(a.slug,"",!0,"product")+'">'+a.name+"</a></td><td>"+a.part_number+'</td><td><a href="'+t(a.category.slug,"",!0,"products/category")+'">'+a.category.name+'</a></td><td><a href="'+t(a.brand.slug,"",!0,"products/brand")+'">'+a.brand.brand_name+'</a></td><td><a href="'+t(a.car_year,"",!0,"products/year")+'">'+a.car_year+"</a></td>"},"Product");new n("#search_category_homepage_input","#category_homepage_data",function(a,t){return'<td><a href="'+t(a.slug,"",!0,"products/category")+'">'+a.name+"</a></td><td>"+a.productCount+"</td>"},"Category");new n("#search-category-detail-search","#category-detail-data",function(a,t){return'<td><a href="'+t(a.slug,"",!0,"product")+'">'+a.name+"</a></td><td>"+a.part_number+'</td><td><a href="'+t(a.category.slug,"",!0,"products/category")+'">'+a.category.name+'</a></td><td><a href="'+t(a.brand.slug,"",!0,"products/brand")+'">'+a.brand.brand_name+'</a></td><td><a href="'+t(a.car_year,"",!0,"products/year")+'">'+a.car_year+"</a></td>"},"Category");new n("#search-homepage-brand","#search-homepage-brand-data",function(a,t){return'<td><a href="'+t(a.slug,"",!0,"products/brand")+'">'+a.brand_name+"</a></td><td>"+a.productCount+"</td>"},"Brand");new n("#brand-detail-search","#brand-detail-data",function(a,t){return'<td><a href="'+t(a.slug,"",!0,"product")+'">'+a.name+"</a></td><td>"+a.part_number+'</td><td><a href="'+t(a.category.slug,"",!0,"products/category")+'">'+a.category.name+'</a></td><td><a href="'+t(a.brand.slug,"",!0,"products/brand")+'">'+a.brand.brand_name+'</a></td><td><a href="'+t(a.car_year,"",!0,"products/year")+'">'+a.car_year+"</a></td>"},"Brand");new n("#search_homepage_year","#search_homepage_year_data",function(a,t){return'<td><a href="'+t(a.car_year,"",!0,"products/year")+'">'+a.car_year+"</a></td><td>"+a.product_count+"</td>"},"Year");new n("#search-homepageyearshow","#search-homepageyearshow-data",function(a,t){return'<td><a href="'+t(a.slug,"",!0,"product")+'">'+a.name+"</a></td><td>"+a.part_number+'</td><td><a href="'+t(a.category.slug,"",!0,"products/category")+'">'+a.category.name+'</a></td><td><a href="'+t(a.brand.slug,"",!0,"products/brand")+'">'+a.brand.brand_name+'</a></td><td><a href="'+t(a.car_year,"",!0,"products/year")+'">'+a.car_year+"</a></td>"});
